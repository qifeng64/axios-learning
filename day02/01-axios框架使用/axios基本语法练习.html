<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <button class="btn1">基本使用</button>
    <button class="btn2">发送get请求</button>
    <button class="btn3">发送post请求</button>
    <script src="./axios.js"></script>
    <script>
      let btn1 = document.querySelector(".btn1");
      btn1.addEventListener("click", function () {
        // 利用axios发送请求
        axios
          // get获取url接口
          .get("https://autumnfish.cn/api/joke/list?num=10")
          // 接收服务器数据
          .then((src) => {
            console.log(src.data.jokes);
          })
          // 错误信息储存检测
          .catch((err) => {
            console.log(err);
          })
          // 执行完毕后执行命令
          .then(() => {
            console.log(`请求执行完毕!`);
          });
      });
      document.querySelector(".btn2").addEventListener("click", function () {
        axios
          .get("https://autumnfish.cn/api/joke/list", {
            params: { num: 10 },
          })
          .then((res) => {
            let data = res.data;
            console.log(data);
          });
      });
      document.querySelector(".btn3").addEventListener("click", function () {
        axios
          .post("http://www.liulongbin.top:3009/api/login", {
            username: "admin",
            password: "123456",
          })
          .then((res) => {
            let data = res.data;
            console.log(data);
          });
      });
    </script>
  </body>
</html>
